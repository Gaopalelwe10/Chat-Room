<ion-header>
    <ion-toolbar>
        <ion-title>Chat</ion-title>
        <ion-buttons end>
            <ion-button (click)="sendPicMsg()">
                <ion-icon name="camera"></ion-icon>
            </ion-button>
        </ion-buttons>
        <ion-buttons slot="end">
            <ion-button (click)="openPopover($event)">
                <ion-icon name="more"></ion-icon>
            </ion-button>
        </ion-buttons>

    </ion-toolbar>


</ion-header>

<ion-content #scrollArea [scrollEvents]="true" padding>
    <!-- <div *ngIf="!(chatRef| async)?.length"> -->
    <div *ngIf="!skel">
        <div *ngFor="let n of [0, 1, 2, 3, 4, 5, 6, 7]" class="ion-padding custom-skeleton chat">
            <div>
                <ion-skeleton-text animated style="width: 50%; float: right;"></ion-skeleton-text>
            </div>
            <div style="float: left;">
                <span class="name">
                <ion-skeleton-text animated style="width: 20%"></ion-skeleton-text><br>
                </span>
                <ion-skeleton-text animated style="width: 50%"></ion-skeleton-text>
            </div>
        </div>
    </div>

    <div class="chat" *ngFor="let chat of chatRef | async">

        <div class="me" *ngIf="uid == chat.Userid">
            {{chat.Message}}

        </div>
        <div class="you" *ngIf="uid != chat.Userid">
            <span class="name">
            {{chat.displayName}}<br>
         </span> {{chat.Message}}
        </div>

    </div>

    <!-- <div *ngIf="!chatRef">
        <div class="ion-padding custom-skeleton">
            <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
            <ion-skeleton-text animated></ion-skeleton-text>
            <ion-skeleton-text animated style="width: 88%"></ion-skeleton-text>
            <ion-skeleton-text animated style="width: 70%"></ion-skeleton-text>
            <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
        </div>
    </div> -->
    <!-- {{uid}} -->
    <!-- <ion-item>
        <ion-input type="password" placeholder="Password"></ion-input>

        <ion-icon name="send" color="primary"></ion-icon>

    </ion-item> -->
    <br>
    <br>
    <br>
</ion-content>

<ion-footer slot="fixed" color="light">
    <ion-list lines="none">
        <ion-toolbar class="no-border">
            <ion-item>
                <ion-textarea [(ngModel)]="text" placeholder="Write your message ..."></ion-textarea>
                <!-- <ion-input ></ion-input> -->
                <!-- <ion-icon name="send" color="primary" (click)="send()"></ion-icon> -->
                <ion-buttons item-right>
                    <ion-button (click)="send()" slot="end">
                        <ion-icon name="send" color="primary"></ion-icon>
                    </ion-button>
                </ion-buttons>
            </ion-item>
        </ion-toolbar>
    </ion-list>
</ion-footer>